

<div class="container">
  <header>
    <h1><i class="bi bi-tags"></i> Category Management</h1>
    <div class="header-controls">
      
      <a class="add-btn" [routerLink]="['/books']">Go To Books</a>

      <button class="add-btn" (click)="openAddModal()">
       <i class="bi bi-plus-circle"></i> Add New Category
      </button>
    </div>
  </header>

  <table class="category-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let c of categories">
        <td class="id-cell">{{ c.id }}</td>
        <td>{{ c.name }}</td>
        <td class="actions">
          <button class="edit-btn" (click)="openEditModal(c)">
           <i class="bi bi-pencil-square"></i> Edit
          </button>
          <button class="delete-btn" (click)="openDeleteModal(c)">
            <i class="bi bi-trash"></i> Delete
          </button>
        </td>
        
      </tr>
      <tr *ngIf="categories.length === 0">
        <td colspan="3" class="no-categories">No categories found. Add your first category!</td>
      </tr>
    </tbody>
  </table>

  <div class="stats-bar">
    <div class="total">Total: {{ total }} categories</div>
  </div>
</div>

<!-- Add/Edit Modal -->
<div class="modal" [ngStyle]="{'display': isModalOpen ? 'flex' : 'none'}">
  <div class="modal-content">
    <h2>{{ modalTitle }}</h2>
    <div class="form-group">
      <label for="categoryName">Category Name</label>
      <input type="text" id="categoryName" [(ngModel)]="nameInput" placeholder="Enter category name">
    </div>
    <div class="modal-actions">
      <button class="cancel-btn" (click)="closeModal()">Cancel</button>
      <button class="confirm-btn" (click)="saveCategory()">Save</button>
    </div>
  </div>
</div>

<!-- Delete Modal -->
<div class="modal delete-modal" [ngStyle]="{'display': isDeleteModalOpen ? 'flex' : 'none'}">
  <div class="modal-content">
    <h2>Confirm Deletion</h2>
    <p>Are you sure you want to delete "<span>{{ currentCategory?.name }}</span>"?</p>
    <div class="modal-actions">
      <button class="cancel-btn" (click)="closeDeleteModal()">Cancel</button>
      <button class="confirm-btn" (click)="confirmDelete()">Delete</button>
    </div>
  </div>
</div>
